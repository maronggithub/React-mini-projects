{"ast":null,"code":"var _jsxFileName = \"/Users/joy/Desktop/React-mini-projects/temperature-converter-app/src/components/Weather.js\",\n  _s = $RefreshSig$();\nimport { React, useEffect } from 'react';\nimport Searchbox from './Searchbox';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setCityName, fetchUserCity, fetchWeatherData } from '../store/modules/weatherData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Weather() {\n  _s();\n  const cityName = useSelector(state => state.weatherdata.cityName);\n  const weatherData = useSelector(state => state.weatherdata.weatherData);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchUserCity);\n    if (cityName) {\n      dispatch(fetchWeatherData());\n    }\n  }, [dispatch, cityName]);\n\n  // 转换温度\n  const convertToCelsius = tempInKelvin => {\n    return (tempInKelvin - 273.15).toFixed(2); // 转换为摄氏度并保留两位小数\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"weatherbox\",\n    id: \"weatherbox\",\n    children: [/*#__PURE__*/_jsxDEV(Searchbox, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"weatherpic\",\n      children: cityName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"tempature\",\n      children: weatherData ? `${convertToCelsius(weatherData.main.temp)} °C` : \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"description\",\n      children: weatherData ? weatherData.weather[0].description : \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n_s(Weather, \"FU3lHeo+Zkto4wj3PpJkTsZpYjI=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n_c = Weather;\nexport default Weather;\nvar _c;\n$RefreshReg$(_c, \"Weather\");","map":{"version":3,"names":["React","useEffect","Searchbox","useSelector","useDispatch","setCityName","fetchUserCity","fetchWeatherData","jsxDEV","_jsxDEV","Weather","_s","cityName","state","weatherdata","weatherData","dispatch","convertToCelsius","tempInKelvin","toFixed","className","id","children","fileName","_jsxFileName","lineNumber","columnNumber","main","temp","weather","description","_c","$RefreshReg$"],"sources":["/Users/joy/Desktop/React-mini-projects/temperature-converter-app/src/components/Weather.js"],"sourcesContent":["import {React, useEffect} from 'react'\nimport Searchbox from './Searchbox'\nimport { useSelector,useDispatch } from \"react-redux\";\nimport { setCityName,fetchUserCity,fetchWeatherData } from '../store/modules/weatherData';\n\n\n\nfunction Weather() {\n  const cityName = useSelector((state) => state.weatherdata.cityName);\n  const weatherData = useSelector((state) => state.weatherdata.weatherData);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchUserCity);\n\n    if (cityName) {\n      dispatch(fetchWeatherData());\n    }\n  }, [dispatch, cityName]);\n\n  // 转换温度\n  const convertToCelsius = (tempInKelvin) => {\n    return (tempInKelvin - 273.15).toFixed(2); // 转换为摄氏度并保留两位小数\n  };\n\n  return (\n    <div className=\"weatherbox\" id=\"weatherbox\">\n      <Searchbox />\n      <div className=\"weatherpic\">{cityName}</div>\n      <h1 className=\"tempature\">\n        {weatherData\n          ? `${convertToCelsius(weatherData.main.temp)} °C`\n          : \"Loading...\"}\n      </h1>\n      <h2 className=\"description\">\n        {weatherData ? weatherData.weather[0].description : \"Loading...\"}\n      </h2>\n    </div>\n  );\n}\n\nexport default Weather\n"],"mappings":";;AAAA,SAAQA,KAAK,EAAEC,SAAS,QAAO,OAAO;AACtC,OAAOC,SAAS,MAAM,aAAa;AACnC,SAASC,WAAW,EAACC,WAAW,QAAQ,aAAa;AACrD,SAASC,WAAW,EAACC,aAAa,EAACC,gBAAgB,QAAQ,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAI1F,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EACjB,MAAMC,QAAQ,GAAGT,WAAW,CAAEU,KAAK,IAAKA,KAAK,CAACC,WAAW,CAACF,QAAQ,CAAC;EACnE,MAAMG,WAAW,GAAGZ,WAAW,CAAEU,KAAK,IAAKA,KAAK,CAACC,WAAW,CAACC,WAAW,CAAC;EACzE,MAAMC,QAAQ,GAAGZ,WAAW,CAAC,CAAC;EAC9BH,SAAS,CAAC,MAAM;IACde,QAAQ,CAACV,aAAa,CAAC;IAEvB,IAAIM,QAAQ,EAAE;MACZI,QAAQ,CAACT,gBAAgB,CAAC,CAAC,CAAC;IAC9B;EACF,CAAC,EAAE,CAACS,QAAQ,EAAEJ,QAAQ,CAAC,CAAC;;EAExB;EACA,MAAMK,gBAAgB,GAAIC,YAAY,IAAK;IACzC,OAAO,CAACA,YAAY,GAAG,MAAM,EAAEC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7C,CAAC;EAED,oBACEV,OAAA;IAAKW,SAAS,EAAC,YAAY;IAACC,EAAE,EAAC,YAAY;IAAAC,QAAA,gBACzCb,OAAA,CAACP,SAAS;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACbjB,OAAA;MAAKW,SAAS,EAAC,YAAY;MAAAE,QAAA,EAAEV;IAAQ;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAC5CjB,OAAA;MAAIW,SAAS,EAAC,WAAW;MAAAE,QAAA,EACtBP,WAAW,GACR,GAAGE,gBAAgB,CAACF,WAAW,CAACY,IAAI,CAACC,IAAI,CAAC,KAAK,GAC/C;IAAY;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACd,CAAC,eACLjB,OAAA;MAAIW,SAAS,EAAC,aAAa;MAAAE,QAAA,EACxBP,WAAW,GAAGA,WAAW,CAACc,OAAO,CAAC,CAAC,CAAC,CAACC,WAAW,GAAG;IAAY;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9D,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEV;AAACf,EAAA,CA/BQD,OAAO;EAAA,QACGP,WAAW,EACRA,WAAW,EACdC,WAAW;AAAA;AAAA2B,EAAA,GAHrBrB,OAAO;AAiChB,eAAeA,OAAO;AAAA,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}